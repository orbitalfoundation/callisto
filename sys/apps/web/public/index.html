<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<title>Orbital</title>
<link rel="stylesheet" type="text/css" href="/index.css">
</head>
<body>

<section class="header">
<img src="/sys/images/orbital.jpg"></img>
<h1>Orbital App Showcase</h1>
<p><i>Reality is the platform</i></p>
<br/>
<h2>Build and Share your apps with the world and get <font style="color: blue">Inspired</font></h2>
<br/>
<a class="btn-bgstroke">Import App</a>
<a class="btn-bgstroke" href="/about">About</a>
<a class="btn-bgstroke" href="https://discord.gg/eRsBbcXjzX">Discord</a>
</section>

<br/>
<br/>
<h2>Recent Apps</h2>

<div id="loader" class="loader">Loading...</div>
<div id="layout"></div>

<footer style="background:black;color:white;padding:12px">
Code of Ethics<br/>
<br/>
Resources and Links<br/>
<br/>
Twitter<br/>
<br/>
Contact<br/>
</footer>


</body>
</html>

<script type="module">

// This is a web based default view for Orbital - it builds a view of recently edited apps
// todo - later show date posted, number of participants and perhaps have an authors page also

// for now show a pile of cards from static data - todo later use database
import data from "./data.js"
import {CardSmall, CardSmallCollection} from './cards.js'
let query = { observe: (callback => { callback(data) }) }
document.getElementById("layout").appendChild(new CardSmallCollection(query))
document.getElementById("loader").remove();

// go ahead and get keplr
// todo - later allow keplr based authentication to post apps
window.onload = async () => {
	if (!window.keplr) {
		alert("Please install keplr wallet to authenticate");
	} else {
		const chainId = "cosmoshub-4";
		await window.keplr.enable(chainId);
		const offlineSigner = window.keplr.getOfflineSigner(chainId);
		const accounts = await offlineSigner.getAccounts();
	}
}


</script>

